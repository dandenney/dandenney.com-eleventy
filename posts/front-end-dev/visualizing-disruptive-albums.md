---
path: "/posts/front-end-dev/visualizing-disruptive-albums"
thumb: "/img/posts/front-end-dev/visualizing-disruptive-albums/thumb.png"
thumb2x: "/img/posts/front-end-dev/visualizing-disruptive-albums/thumb@2x.png"
title: "Visualizing a Disruptive Album: beerbongs & bentleys"
summary: Applying some of what I learned in Fullstack D3 to a passion project
date: "2020-02-17"
codeHighlighting: true
tags:
  - front-end-dev
layout: layouts/post.njk
---

I recently read [Fullstack D3](https://www.newline.co/fullstack-d3) and wanted to put some of what I learned into action. If you haven't read it yet and want to learn D3, I'd skip this post and go order it. Seriously, it's so good.

Heads-up: Bear clocks this at around a 13-minute read, so you may want some tasty beverage if you're going to brave it.

## Backstory

A couple of years ago, I got into tracking [Spotify Charts](https://spotifycharts.com/regional). At the time, I wanted to learn vanilla JS, so I built a little single-page app using Firebase. It's not online, but the [repo](https://github.com/dandenney/track-life) exists. Each day, I'd plot the top ten tracks and then use line charts to show their performance over time. In the middle of my daily tracking, I saw something crazy. Ed Sheeran dropped รท, and all of a sudden, there was a sea of that blue album cover in the charts. Of the sixteen tracks on the album, ten made the top twenty. I was in awe. How amazing is it that an album can drop and that all over the world, people are listening to it more than almost anything else?

### Fri-yay Traditions

Post Malone has dropped two albums with this kind of swagger, and one has become one of my favorite albums. My friend, Eden, and I sync Spotify over Discord and listen to [beerbongs & bentleys](https://open.spotify.com/album/6trNtQUgC8cgbWcqoMYkOR?si=jXkiFg0hQoWrkQbq8dWafQ) every Friday afternoon. I want to visualize some of the metrics that show how strong that release was.

## Selling Points

There are a few things that stand out to show the impact that this album had on the charts: total streams on day one, that week's total streams in the top twenty vs. the previous and next week, how many tracks were in the top twenty, and how long they stayed.

On a more granular level, there are some interesting things that we can learn from the performance of individual tracks. One funny thing is that Jonestown (Interlude) is a 1:52 minute interlude that was the 30th most played song in the world on the release date. That's just cray. Aside from that, it's interesting to see how track number affects the performance and how the singles performed vs. the new tracks.

## My New, Shiny Hammer

Fresh off of reading a book about D3, I want to make sure that I'm not falling into the scenario where I have a new hammer, and everything looks like a nail. I had to ask myself if I need D3 to present this information. The answer was a mix of yes and no. There is some information that can be presented as plain text but will benefit from visualization. Client-side JavaScript is expensive, so I like to avoid it when I can. That said, I'm not building a graph out HTML and CSS. So, I'll start by comparing some of the information.

## Blame It On These

### Streams

<table>
  <thead>
    <th>Date</th>
    <th>Total Streams</th>
    <th>Notes</th>
  </thead>
  <tbody>
    <tr>
      <td>
        April 20, 2018
      </td>
      <td>
        86,168,208
      </td>
      <td>
        Release day streams one week before
      </td>
    </tr>
    <tr>
      <td>
        April 27, 2018
      </td>
      <td>
        91,695,538
      </td>
      <td>
        The album had 77,452,211 of these streams, or 84%
      </td>
    </tr>
    <tr>
      <td>
        May 4, 2018
      </td>
      <td>
        67,147,820
      </td>
      <td>
        Release day streams one week after
      </td>
    </tr>
</table>

This is where I start spinning the hammer in my hand. That little table technically tells the story, and it might be exactly what you want if you were looking to copy and paste from Wikipedia into an essay. As a fanboy, though, it needs some Candy Paint.

In a surprising twist after making some pretty amazing visualizations, creating a bar chart wasn't easy. The main thing I did wrong was assuming that I could do it without reading docs. Creating a regular bar graph instead of a histogram requires you to use some different d3 methods. I had used them before, but it was an opportunity to take a break from the book and dive into converting some examples to The Watterberger style.

**Disclaimer:** I'm sharing very visually simple versions in this post. The book teaches you to make some very beautiful designs, but I'm going to make some questionable decisions with these as I try to bring the spirit of Post Malone to them. I don't want you to get the impression that I learned them from the book, so, for now, I'll use some very basic styles. I have to say, though, there's something really nice about these greyscale ones. I dig em.

### The First Chart

The book covers histograms, but not basic bar charts, so I applied the basics of what I had learned in this and other spots. In this one, I'm aiming to visualize that beerbongs & bentleys increased the overall streams of the top 20 by over 4 million streams compared to the surrounding weeks. If this was complex data, I'd have used a Y-Axis, but I think that a bar with an abbreviated value says more.

<h4 class="u-ta-c">Total Streams of the Spotify Top 20</h4>

<div id="wrapper" class="wrapper">
  <svg width="600" height="400" viewBox="0 0 600 400"><g style="transform: translate(60px, 20px);"><g><rect x="74.19354838709677" y="47.028092799999996" height="292.97190720000003" width="127.74193548387098"></rect><rect x="216.1290322580645" y="28.235170800000006" height="311.7648292" width="127.74193548387098"></rect><rect x="358.06451612903226" y="111.69741199999999" height="228.30258800000001" width="127.74193548387098"></rect></g><g><text x="134.19354838709677" y="27.028092799999996" class="streams-text" style="text-anchor: middle;">86.1M</text><text x="276.1290322580645" y="8.235170800000006" class="streams-text" style="text-anchor: middle;">91.6M</text><text x="418.06451612903226" y="91.69741199999999" class="streams-text" style="text-anchor: middle;">67.1M</text></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(340px);"><path class="domain" stroke="currentColor" d="M60.5,0.5H500.5"></path><g class="tick" opacity="1" transform="translate(138.06451612903226,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">April 20, 2018</text></g><g class="tick" opacity="1" transform="translate(280,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">April 27, 2018</text></g><g class="tick" opacity="1" transform="translate(421.93548387096774,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 4, 2018</text></g></g></g></svg>
  </div>

<p class="u-ta-c"><a href="https://codepen.io/dandenney/pen/JjdKmpq">Sample on CodePen</a></p>

<style>
  svg {
    height: auto;
    overflow: visible;
    width: 100%;
  }

  #wrapper .domain,
  #visualization .domain,
  #wrapper line,
  #visualization line {
    display: none;
  }

  #paranoid .listening-rect {
    fill: transparent;
  }

  .wrapper text {
    color: #424242;
    font-family: "Sentinel A", "Sentinel B";
  }

  .wrapper rect {
    fill: #424242;
  }

  rect.top20-bg,
  rect.top20-biebs-bg {
    fill: #f5f5f5;
  }

  .tick text {
    font-size: 1rem;
    font-weight: 700;
  }

  .streams-text {
    font-size: 32px;
    text-anchor: middle;
  }

  .barText {
    font-size: 18px;
  }

  .line-error .line {
    fill: none;
    stroke: #af9358;
    stroke-width: 2;
  }

  .line-error .listening-rect {
    fill: transparent;
  }
</style>

**WARNING: This album is not safe for work and I'm sharing the actual data. If you should not have profanity and drug references on your screen or are offended by them, I'd suggest closing this tab.**

### Leveling Up

Looking over some items on [Observable](https://observablehq.com) led me to this [horizontal bar chart](https://observablehq.com/@d3/horizontal-bar-chart), which seemed like the perfect way to show how all of the tracks from the album placed on the release day. This was tricky, in that I had to invert the scale. By default, if a track was 1st it would be a small bar, and if it was 24th it would be a large one. For this to work, that needed to be the opposite. Luckily I had done this in the past, but it was tricky to get it working in this new style that I'm getting used to.

Also, if I was true to the scale, I'd have shown items from 1 to 30. However, that would mean that the track that was 30th wouldn't have any height. I increased the scale to the expand by two so that it would give that item some space on the chart.

<h4 class="u-ta-c">Track Positions on Release Day</h4>

<div id="visualization" class="wrapper full-to-half-bleed">
<svg width="702.9" height="660" viewBox="0 0 702 660"><g style="transform: translate(300px, 0px);"><g><rect y="3.646408839779042" x="0" width="389.9032258064516" height="32.81767955801105"></rect><rect y="40.1104972375691" x="0" width="363.9096774193548" height="32.81767955801105"></rect><rect y="76.57458563535916" x="0" width="337.9161290322581" height="32.81767955801105"></rect><rect y="113.03867403314922" x="0" width="285.9290322580645" height="32.81767955801105"></rect><rect y="149.50276243093927" x="0" width="246.93870967741935" height="32.81767955801105"></rect><rect y="185.96685082872932" x="0" width="324.91935483870964" height="32.81767955801105"></rect><rect y="222.4309392265194" x="0" width="272.93225806451613" height="32.81767955801105"></rect><rect y="258.8950276243095" x="0" width="402.9" height="32.81767955801105"></rect><rect y="295.3591160220995" x="0" width="376.90645161290325" height="32.81767955801105"></rect><rect y="331.8232044198896" x="0" width="259.93548387096774" height="32.81767955801105"></rect><rect y="368.2872928176796" x="0" width="168.958064516129" height="32.81767955801105"></rect><rect y="404.7513812154697" x="0" width="220.94516129032255" height="32.81767955801105"></rect><rect y="441.21546961325976" x="0" width="129.96774193548387" height="32.81767955801105"></rect><rect y="477.6795580110498" x="0" width="207.94838709677418" height="32.81767955801105"></rect><rect y="514.1436464088399" x="0" width="25.993548387096794" height="32.81767955801105"></rect><rect y="550.6077348066299" x="0" width="142.96451612903226" height="32.81767955801105"></rect><rect y="587.07182320442" x="0" width="103.97419354838709" height="32.81767955801105"></rect><rect y="623.53591160221" x="0" width="64.98387096774192" height="32.81767955801105"></rect></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="end" class="yAxis"><path class="domain" stroke="currentColor" d="M0.5,0.5V660.5"></path><g class="tick" opacity="1" transform="translate(0,20.055248618784567)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Paranoid</text></g><g class="tick" opacity="1" transform="translate(0,56.519337016574624)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Spoil My Night (feat. Swae Lee)</text></g><g class="tick" opacity="1" transform="translate(0,92.98342541436469)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Rich &amp; Sad</text></g><g class="tick" opacity="1" transform="translate(0,129.44751381215474)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Zack And Codeine</text></g><g class="tick" opacity="1" transform="translate(0,165.9116022099448)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Takin' Shots</text></g><g class="tick" opacity="1" transform="translate(0,202.37569060773484)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">rockstar (feat. 21 Savage)</text></g><g class="tick" opacity="1" transform="translate(0,238.83977900552492)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Over Now</text></g><g class="tick" opacity="1" transform="translate(0,275.303867403315)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Psycho (feat. Ty Dolla $ign)</text></g><g class="tick" opacity="1" transform="translate(0,311.767955801105)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Better Now</text></g><g class="tick" opacity="1" transform="translate(0,348.2320441988951)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Ball For Me (feat. Nicki Minaj)</text></g><g class="tick" opacity="1" transform="translate(0,384.6961325966851)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Otherside</text></g><g class="tick" opacity="1" transform="translate(0,421.1602209944752)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Stay</text></g><g class="tick" opacity="1" transform="translate(0,457.6243093922653)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Blame It On Me</text></g><g class="tick" opacity="1" transform="translate(0,494.0883977900553)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Same Bitches (feat. G-Eazy &amp; YG)</text></g><g class="tick" opacity="1" transform="translate(0,530.5524861878455)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Jonestown (Interlude)</text></g><g class="tick" opacity="1" transform="translate(0,567.0165745856355)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">92 Explorer</text></g><g class="tick" opacity="1" transform="translate(0,603.4806629834255)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Candy Paint</text></g><g class="tick" opacity="1" transform="translate(0,639.9447513812156)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">Sugar Wraith</text></g></g><g fill="white" text-anchor="end"><text x="385.9032258064516" y="20.055248618784567" dy="0.35em" class="barText">2</text><text x="359.9096774193548" y="56.519337016574624" dy="0.35em" class="barText">4</text><text x="333.9161290322581" y="92.98342541436469" dy="0.35em" class="barText">6</text><text x="281.9290322580645" y="129.44751381215474" dy="0.35em" class="barText">10</text><text x="242.93870967741935" y="165.9116022099448" dy="0.35em" class="barText">13</text><text x="320.91935483870964" y="202.37569060773484" dy="0.35em" class="barText">7</text><text x="268.93225806451613" y="238.83977900552492" dy="0.35em" class="barText">11</text><text x="398.9" y="275.303867403315" dy="0.35em" class="barText">1</text><text x="372.90645161290325" y="311.767955801105" dy="0.35em" class="barText">3</text><text x="255.93548387096774" y="348.2320441988951" dy="0.35em" class="barText">12</text><text x="164.958064516129" y="384.6961325966851" dy="0.35em" class="barText">19</text><text x="216.94516129032255" y="421.1602209944752" dy="0.35em" class="barText">15</text><text x="125.96774193548387" y="457.6243093922653" dy="0.35em" class="barText">22</text><text x="203.94838709677418" y="494.0883977900553" dy="0.35em" class="barText">16</text><text x="21.993548387096794" y="530.5524861878455" dy="0.35em" class="barText">30</text><text x="138.96451612903226" y="567.0165745856355" dy="0.35em" class="barText">21</text><text x="99.97419354838709" y="603.4806629834255" dy="0.35em" class="barText">24</text><text x="60.98387096774192" y="639.9447513812156" dy="0.35em" class="barText">27</text></g></g></svg>
</div>

<p class="u-ta-c"><a href="https://codepen.io/dandenney/pen/QWbGBXZ">Sample on CodePen</a></p>

### A limited dataset, but...

I'm not sharing enough of the data yet, but one takeaway from researching the charts is that in the age of the playlist, many people still listen to full albums. One thing I wonder is if people listen straight through, or shuffle, and what impact that has on chart performance. I'm sure people at Spotify know, but it's a chance to plot this basic example in a chart that I learned in the course.

Ideally, this would show the results from a bunch of albums to get a real answer. However, this gives you an idea of the relationship between track number and chart position on release day, when the album was fresh to listeners.

I wasn't sure whether or not to invert the ranges for this one. It felt right to look from the bottom and go upwards and to the right.

<div id="histogram">
<svg width="615.6" height="615.6" viewBox="0 0 615 615"><g style="transform: translate(50px, 10px);"><circle cx="37.04" cy="524.7333333333333" r="4"></circle><circle cx="74.08" cy="493.8666666666667" r="4"></circle><circle cx="111.12" cy="463.00000000000006" r="4"></circle><circle cx="185.2" cy="432.1333333333334" r="4"></circle><circle cx="240.76000000000002" cy="401.26666666666665" r="4"></circle><circle cx="129.64000000000001" cy="370.40000000000003" r="4"></circle><circle cx="203.72" cy="339.53333333333336" r="4"></circle><circle cx="18.52" cy="308.6666666666667" r="4"></circle><circle cx="55.56" cy="277.8" r="4"></circle><circle cx="222.24" cy="246.93333333333334" r="4"></circle><circle cx="351.88" cy="216.06666666666663" r="4"></circle><circle cx="277.8" cy="185.20000000000002" r="4"></circle><circle cx="407.44" cy="154.33333333333334" r="4"></circle><circle cx="296.32" cy="123.46666666666667" r="4"></circle><circle cx="555.6" cy="92.59999999999998" r="4"></circle><circle cx="388.92" cy="61.73333333333336" r="4"></circle><circle cx="444.48" cy="30.86666666666668" r="4"></circle><circle cx="500.04" cy="0" r="4"></circle><g fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(555.6px);"><path class="domain" stroke="currentColor" d="M0.5,6V0.5H556.1V6"></path><g class="tick" opacity="1" transform="translate(0.5,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">0</text></g><g class="tick" opacity="1" transform="translate(37.54,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">2</text></g><g class="tick" opacity="1" transform="translate(74.58,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">4</text></g><g class="tick" opacity="1" transform="translate(111.62,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">6</text></g><g class="tick" opacity="1" transform="translate(148.66,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">8</text></g><g class="tick" opacity="1" transform="translate(185.7,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">10</text></g><g class="tick" opacity="1" transform="translate(222.74,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">12</text></g><g class="tick" opacity="1" transform="translate(259.78000000000003,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">14</text></g><g class="tick" opacity="1" transform="translate(296.82,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">16</text></g><g class="tick" opacity="1" transform="translate(333.86,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">18</text></g><g class="tick" opacity="1" transform="translate(370.9,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">20</text></g><g class="tick" opacity="1" transform="translate(407.94,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">22</text></g><g class="tick" opacity="1" transform="translate(444.98,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">24</text></g><g class="tick" opacity="1" transform="translate(482.02000000000004,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">26</text></g><g class="tick" opacity="1" transform="translate(519.0600000000001,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">28</text></g><g class="tick" opacity="1" transform="translate(556.1,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">30</text></g><text class="x-axis-label" x="277.8" y="40">Track Position</text></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,556.1H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,556.1)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">0</text></g><g class="tick" opacity="1" transform="translate(0,525.2333333333333)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">1</text></g><g class="tick" opacity="1" transform="translate(0,494.3666666666667)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">2</text></g><g class="tick" opacity="1" transform="translate(0,463.50000000000006)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">3</text></g><g class="tick" opacity="1" transform="translate(0,432.6333333333334)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">4</text></g><g class="tick" opacity="1" transform="translate(0,401.76666666666665)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">5</text></g><g class="tick" opacity="1" transform="translate(0,370.90000000000003)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">6</text></g><g class="tick" opacity="1" transform="translate(0,340.03333333333336)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">7</text></g><g class="tick" opacity="1" transform="translate(0,309.1666666666667)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">8</text></g><g class="tick" opacity="1" transform="translate(0,278.3)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">9</text></g><g class="tick" opacity="1" transform="translate(0,247.43333333333334)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">10</text></g><g class="tick" opacity="1" transform="translate(0,216.56666666666663)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">11</text></g><g class="tick" opacity="1" transform="translate(0,185.70000000000002)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">12</text></g><g class="tick" opacity="1" transform="translate(0,154.83333333333334)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">13</text></g><g class="tick" opacity="1" transform="translate(0,123.96666666666667)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">14</text></g><g class="tick" opacity="1" transform="translate(0,93.09999999999998)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">15</text></g><g class="tick" opacity="1" transform="translate(0,62.23333333333336)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">16</text></g><g class="tick" opacity="1" transform="translate(0,31.36666666666668)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">17</text></g><g class="tick" opacity="1" transform="translate(0,0.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">18</text></g><text class="y-axis-label" x="-277.8" y="-40">Track Number</text></g></g></svg>
</div>

<p class="u-ta-c"><a href="https://codepen.io/dandenney/pen/VwLmVye">Sample on CodePen</a></p>

Generally, the higher the track, the further down the charts it placed. The outliers were tracks 8 and 9, Psycho and Better Now. Psycho was a single that was released before the album and was #5 globally on the day before the release. Better Now turned out to be the runaway hit of the album, achieving #1 for weeks.

### Spoil My Life

This is where my obsession with unsustainable data comes in. This data isn't available in the API, and I haven't learned enough web scraping skills to automate grabbing and formatting it in a way I need. So, I made a [google sheet](https://docs.google.com/spreadsheets/d/1MN_Ec7EUyDqcDC6HP3Gnopjs_aOTsYgOgefE3xIQuIM/edit?usp=sharing). It's painstaking work, but I recently did step back and find a way to automate part of it. I use JS to only show the artist results on the page, which minimizes the results. If you wanna see it in action, go to the [launch day chart](https://spotifycharts.com/regional/global/daily/2018-04-27) or any day and pop this in the console, changing the artist as you see fit.

```javascript
const artist = "Post Malone";
const size = 200;
const tableRows = document.querySelectorAll(".chart-table tbody tr");
const rows = Array.from(tableRows);

const sliced = rows.slice(0, size).map(slice => {
  if (!slice.innerHTML.includes(artist)) {
    const position = slice.querySelector(".chart-table-position");
    const title = slice.querySelector(".chart-table-track strong");
    const track = slice.querySelector(".chart-table-track span");
    slice.parentNode.removeChild(slice);
  }
});
```

If anyone from Spotify happens to see this, hook a front-ender up with a Charts API! I'm not expecting that anytime soon, though, so learning Python is on my shortlist.

### Most of your Top 20 are belong to Post Malone

On the day before the release, there were two singles from the album in the Spotify charts, but only Psycho was in the top 20 at number 8. It took until June 19 for it to get back down to one, which was then Better Now at number 8. The interesting part is that it was another disruptivish album that knocked Psycho back down to 27th: [? by XXXTENTACTION](https://open.spotify.com/album/2Ti79nwTsont5ZHfdxIzAm?si=Z2vI5KdMRGKsWGOULFkerQ). That album had six tracks in the top 20, but it also revived his last album, and three tracks from [17](https://open.spotify.com/album/5VdyJkLe3yvOs0l4xXbWp0?si=vLAUlDaKS1SxUyGEvlnEtw) were now in the top 20 too. I don't remember that release, but the weird part is that this was a Tuesday, like the old school music release days.

I debated a lot between a bar chart and a line chart for this, but I went with the bars because the goal is to show the density that the album had. A line chart with an area fill worked too, but I had to round the values to make the lines not zigzag, which reduced the accuracy. This felt liked it worked.

I let d3 generate the ticks automatically by passing the dates as the range. If I was manually setting them, they'd be two days beforehand, but the cool thing is that you get to see the count two days after each week's New Music Friday. For this album, you can see that general time had more of in impact than other album releases.

<section id="top20" class="wrapper full-to-half-bleed"><svg width="640" height="400" viewBox="0 0 640 400"><g style="transform: translate(40px, 20px);"><rect x="0" width="590" y="0" height="340" fill="#f5f5f5" class="top20-bg"></rect><g><rect x="0" y="323" height="17" width="10.535714285714286"></rect><rect x="10.535714285714286" y="118.99999999999999" height="221" width="10.535714285714286"></rect><rect x="21.071428571428573" y="136" height="204" width="10.535714285714286"></rect><rect x="31.60714285714286" y="136" height="204" width="10.535714285714286"></rect><rect x="42.142857142857146" y="136" height="204" width="10.535714285714286"></rect><rect x="52.67857142857143" y="136" height="204" width="10.535714285714286"></rect><rect x="63.21428571428572" y="170" height="170" width="10.535714285714286"></rect><rect x="73.75" y="187.00000000000003" height="152.99999999999997" width="10.535714285714286"></rect><rect x="84.28571428571429" y="221" height="119" width="10.535714285714286"></rect><rect x="94.82142857142858" y="237.99999999999997" height="102.00000000000003" width="10.535714285714286"></rect><rect x="105.35714285714286" y="255" height="85" width="10.535714285714286"></rect><rect x="115.89285714285715" y="255" height="85" width="10.535714285714286"></rect><rect x="126.42857142857144" y="255" height="85" width="10.535714285714286"></rect><rect x="136.96428571428572" y="255" height="85" width="10.535714285714286"></rect><rect x="147.5" y="255" height="85" width="10.535714285714286"></rect><rect x="158.0357142857143" y="272" height="68" width="10.535714285714286"></rect><rect x="168.57142857142858" y="272" height="68" width="10.535714285714286"></rect><rect x="179.10714285714286" y="272" height="68" width="10.535714285714286"></rect><rect x="189.64285714285717" y="272" height="68" width="10.535714285714286"></rect><rect x="200.17857142857144" y="272" height="68" width="10.535714285714286"></rect><rect x="210.71428571428572" y="272" height="68" width="10.535714285714286"></rect><rect x="221.25000000000003" y="272" height="68" width="10.535714285714286"></rect><rect x="231.7857142857143" y="289" height="51" width="10.535714285714286"></rect><rect x="242.32142857142858" y="289" height="51" width="10.535714285714286"></rect><rect x="252.8571428571429" y="289" height="51" width="10.535714285714286"></rect><rect x="263.39285714285717" y="289" height="51" width="10.535714285714286"></rect><rect x="273.92857142857144" y="289" height="51" width="10.535714285714286"></rect><rect x="284.4642857142857" y="289" height="51" width="10.535714285714286"></rect><rect x="295" y="289" height="51" width="10.535714285714286"></rect><rect x="305.53571428571433" y="289" height="51" width="10.535714285714286"></rect><rect x="316.0714285714286" y="289" height="51" width="10.535714285714286"></rect><rect x="326.6071428571429" y="289" height="51" width="10.535714285714286"></rect><rect x="337.14285714285717" y="289" height="51" width="10.535714285714286"></rect><rect x="347.67857142857144" y="289" height="51" width="10.535714285714286"></rect><rect x="358.2142857142857" y="289" height="51" width="10.535714285714286"></rect><rect x="368.75" y="289" height="51" width="10.535714285714286"></rect><rect x="379.28571428571433" y="289" height="51" width="10.535714285714286"></rect><rect x="389.8214285714286" y="306" height="34" width="10.535714285714286"></rect><rect x="400.3571428571429" y="306" height="34" width="10.535714285714286"></rect><rect x="410.89285714285717" y="306" height="34" width="10.535714285714286"></rect><rect x="421.42857142857144" y="306" height="34" width="10.535714285714286"></rect><rect x="431.9642857142857" y="306" height="34" width="10.535714285714286"></rect><rect x="442.50000000000006" y="306" height="34" width="10.535714285714286"></rect><rect x="453.03571428571433" y="306" height="34" width="10.535714285714286"></rect><rect x="463.5714285714286" y="289" height="51" width="10.535714285714286"></rect><rect x="474.1071428571429" y="289" height="51" width="10.535714285714286"></rect><rect x="484.64285714285717" y="306" height="34" width="10.535714285714286"></rect><rect x="495.17857142857144" y="306" height="34" width="10.535714285714286"></rect><rect x="505.7142857142858" y="306" height="34" width="10.535714285714286"></rect><rect x="516.25" y="306" height="34" width="10.535714285714286"></rect><rect x="526.7857142857143" y="306" height="34" width="10.535714285714286"></rect><rect x="537.3214285714286" y="306" height="34" width="10.535714285714286"></rect><rect x="547.8571428571429" y="306" height="34" width="10.535714285714286"></rect><rect x="558.3928571428572" y="306" height="34" width="10.535714285714286"></rect><rect x="568.9285714285714" y="306" height="34" width="10.535714285714286"></rect><rect x="579.4642857142858" y="323" height="17" width="10.535714285714286"></rect></g><g><text x="0" y="323" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="10.535714285714286" y="118.99999999999999" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="21.071428571428573" y="136" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="31.60714285714286" y="136" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="42.142857142857146" y="136" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="52.67857142857143" y="136" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="63.21428571428572" y="170" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="73.75" y="187.00000000000003" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="84.28571428571429" y="221" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="94.82142857142858" y="237.99999999999997" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="105.35714285714286" y="255" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="115.89285714285715" y="255" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="126.42857142857144" y="255" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="136.96428571428572" y="255" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="147.5" y="255" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="158.0357142857143" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="168.57142857142858" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="179.10714285714286" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="189.64285714285717" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="200.17857142857144" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="210.71428571428572" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="221.25000000000003" y="272" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="231.7857142857143" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="242.32142857142858" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="252.8571428571429" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="263.39285714285717" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="273.92857142857144" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="284.4642857142857" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="295" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="305.53571428571433" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="316.0714285714286" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="326.6071428571429" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="337.14285714285717" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="347.67857142857144" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="358.2142857142857" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="368.75" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="379.28571428571433" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="389.8214285714286" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="400.3571428571429" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="410.89285714285717" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="421.42857142857144" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="431.9642857142857" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="442.50000000000006" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="453.03571428571433" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="463.5714285714286" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="474.1071428571429" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="484.64285714285717" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="495.17857142857144" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="505.7142857142858" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="516.25" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="526.7857142857143" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="537.3214285714286" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="547.8571428571429" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="558.3928571428572" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="568.9285714285714" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="579.4642857142858" y="323" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(340px);"><path class="domain" stroke="currentColor" d="M0.5,6V0.5H590.5V6"></path><g class="tick" opacity="1" transform="translate(33.27777777777778,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Apr 29</text></g><g class="tick" opacity="1" transform="translate(109.75925925925925,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 06</text></g><g class="tick" opacity="1" transform="translate(186.24074074074073,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 13</text></g><g class="tick" opacity="1" transform="translate(262.72222222222223,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 20</text></g><g class="tick" opacity="1" transform="translate(339.2037037037037,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 27</text></g><g class="tick" opacity="1" transform="translate(415.6851851851852,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 03</text></g><g class="tick" opacity="1" transform="translate(492.1666666666667,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 10</text></g><g class="tick" opacity="1" transform="translate(568.6481481481482,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 17</text></g></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,340.5H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,340.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">0</text></g><g class="tick" opacity="1" transform="translate(0,306.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">2</text></g><g class="tick" opacity="1" transform="translate(0,272.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">4</text></g><g class="tick" opacity="1" transform="translate(0,238.49999999999997)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">6</text></g><g class="tick" opacity="1" transform="translate(0,204.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">8</text></g><g class="tick" opacity="1" transform="translate(0,170.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">10</text></g><g class="tick" opacity="1" transform="translate(0,136.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">12</text></g><g class="tick" opacity="1" transform="translate(0,102.50000000000001)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">14</text></g><g class="tick" opacity="1" transform="translate(0,68.49999999999999)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">16</text></g><g class="tick" opacity="1" transform="translate(0,34.49999999999999)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">18</text></g><g class="tick" opacity="1" transform="translate(0,0.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">20</text></g></g></g></svg></section>

<p class="u-ta-c"><a href="https://codepen.io/dandenney/pen/dyoOQBO">Sample on CodePen</a></p>

This doesn't have the "wow factor" that I had expected. It's pretty amazing to drop an album and have 13 of the tracks in the top 20 songs being played in the whole world (on Spotify). The graph doesn't do it justice, buttttt just for fun; let's look at the most recent album drop by Bieber. This is only a week of data, but his had 1 before release, 3 on the release day, and 2 eight days later.

<section id="top20-biebs" class="wrapper"><svg width="640" height="400" viewBox="0 0 640 400"><g style="transform: translate(40px, 20px);"><rect x="0" width="590" y="0" height="340" fill="#f5f5f5" class="top20-biebs-bg"></rect><g><rect x="0" y="323" height="17" width="65.55555555555556"></rect><rect x="65.55555555555556" y="289" height="51" width="65.55555555555556"></rect><rect x="131.11111111111111" y="289" height="51" width="65.55555555555556"></rect><rect x="196.66666666666669" y="289" height="51" width="65.55555555555556"></rect><rect x="262.22222222222223" y="289" height="51" width="65.55555555555556"></rect><rect x="327.77777777777777" y="289" height="51" width="65.55555555555556"></rect><rect x="393.33333333333337" y="289" height="51" width="65.55555555555556"></rect><rect x="458.8888888888889" y="289" height="51" width="65.55555555555556"></rect><rect x="524.4444444444445" y="306" height="34" width="65.55555555555556"></rect></g><g><text x="0" y="323" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="65.55555555555556" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="131.11111111111111" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="196.66666666666669" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="262.22222222222223" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="327.77777777777777" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="393.33333333333337" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="458.8888888888889" y="289" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text><text x="524.4444444444445" y="306" fill="darkgrey" class="count-text" style="text-anchor: middle;"></text></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(340px);"><path class="domain" stroke="currentColor" d="M0.5,6V0.5H590.5V6"></path><g class="tick" opacity="1" transform="translate(0.5,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Thu 13</text></g><g class="tick" opacity="1" transform="translate(74.25,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Fri 14</text></g><g class="tick" opacity="1" transform="translate(148,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Sat 15</text></g><g class="tick" opacity="1" transform="translate(221.75,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Feb 16</text></g><g class="tick" opacity="1" transform="translate(295.5,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Mon 17</text></g><g class="tick" opacity="1" transform="translate(369.25,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Tue 18</text></g><g class="tick" opacity="1" transform="translate(443,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Wed 19</text></g><g class="tick" opacity="1" transform="translate(516.75,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Thu 20</text></g><g class="tick" opacity="1" transform="translate(590.5,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Fri 21</text></g></g><g fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,340.5H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,340.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">0</text></g><g class="tick" opacity="1" transform="translate(0,306.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">2</text></g><g class="tick" opacity="1" transform="translate(0,272.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">4</text></g><g class="tick" opacity="1" transform="translate(0,238.49999999999997)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">6</text></g><g class="tick" opacity="1" transform="translate(0,204.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">8</text></g><g class="tick" opacity="1" transform="translate(0,170.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">10</text></g><g class="tick" opacity="1" transform="translate(0,136.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">12</text></g><g class="tick" opacity="1" transform="translate(0,102.50000000000001)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">14</text></g><g class="tick" opacity="1" transform="translate(0,68.49999999999999)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">16</text></g><g class="tick" opacity="1" transform="translate(0,34.49999999999999)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">18</text></g><g class="tick" opacity="1" transform="translate(0,0.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">20</text></g></g></g></svg></section>

### 18 Track Explorer

The last bit to present is the performance of individual songs. This one is a lot of data. So, I'll start with two individual tracks and then lead into the whammo with the 13 tracks that were in the top 20.

In trying to move the data out, I realized that I had missed the mark on organizing it in a way that I could just use it. This is a popular problem in visualizations and I could learn some manipulation techniques that would let me get what I need programmatically. Since it's a limited set and I built it, I manually made some changes to get what I need. As an aside, I'm so thankful for the many tools like [CSV2JSON](https://www.csvjson.com/csv2json) that exist on the web.

#### A lightbulb moment

In setting up the first track for a line graph, I knew I was going to have to fight the flipping of the range again. I was debating cheating and setting the values to negatives. Well, debating isn't accurate. I did it, and I didn't like that I'd then have to fight the labeling, output of the values, etc. I tried using a custom range and ๐ฅ! In this one, I set the range from 20 to 0, and the chart instantly works. There's one additional step that I'll have to learn how to programmatically counter in the future, but I found a fix for this example.

<svg class="line-error" width="1428" height="400" viewBox="0 0 1428 400"><g transform="translate(60, 15)"><defs><clipPath id="bounds-clip-path"><rect width="1353" height="345"></rect></clipPath></defs><g clip-path="url(#bounds-clip-path)"><path class="line" d="M0,0L25.055555555555554,34.5L50.11111111111111,69L75.16666666666666,86.25L100.22222222222221,69L125.27777777777777,69L150.33333333333331,120.74999999999999L175.38888888888889,120.74999999999999L200.44444444444443,120.74999999999999L225.5,189.75000000000003L250.55555555555554,189.75000000000003L275.6111111111111,207L300.66666666666663,207L325.72222222222223,224.25L350.77777777777777,224.25L375.83333333333337,241.49999999999997L400.88888888888886,258.75L425.94444444444446,276L451,258.75L476.05555555555554,276L501.1111111111111,327.75L526.1666666666666,345L551.2222222222222,0L576.2777777777778,0L601.3333333333333,0L626.3888888888889,0L651.4444444444445,0L676.5,0L701.5555555555555,0L726.6111111111112,0L751.6666666666667,0L776.7222222222222,0L801.7777777777777,0L826.8333333333334,0L851.8888888888889,0L876.9444444444445,0L902,0L927.0555555555557,0L952.1111111111111,0L977.1666666666666,0L1002.2222222222222,0L1027.2777777777778,0L1052.3333333333333,0L1077.388888888889,0L1102.4444444444443,0L1127.5,0L1152.5555555555557,0L1177.611111111111,0L1202.6666666666665,0L1227.7222222222222,0L1252.7777777777778,0L1277.8333333333333,0L1302.888888888889,0L1327.9444444444446,0L1353,0"></path></g><g class="y-axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,345.5H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,345.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">20</text></g><g class="tick" opacity="1" transform="translate(0,311)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">18</text></g><g class="tick" opacity="1" transform="translate(0,276.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">16</text></g><g class="tick" opacity="1" transform="translate(0,241.99999999999997)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">14</text></g><g class="tick" opacity="1" transform="translate(0,207.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">12</text></g><g class="tick" opacity="1" transform="translate(0,173)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">10</text></g><g class="tick" opacity="1" transform="translate(0,138.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">8</text></g><g class="tick" opacity="1" transform="translate(0,104)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">6</text></g><g class="tick" opacity="1" transform="translate(0,69.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">4</text></g><g class="tick" opacity="1" transform="translate(0,35)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">2</text></g><g class="tick" opacity="1" transform="translate(0,0.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">0</text></g><text class="y-axis-label" x="-172.5" y="-50">Rank</text></g><g class="x-axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(345px);"><path class="domain" stroke="currentColor" d="M0.5,6V0.5H1353.5V6"></path><g class="tick" opacity="1" transform="translate(75.66666666666666,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Apr 29</text></g><g class="tick" opacity="1" transform="translate(251.05555555555554,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 06</text></g><g class="tick" opacity="1" transform="translate(426.44444444444446,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 13</text></g><g class="tick" opacity="1" transform="translate(601.8333333333333,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 20</text></g><g class="tick" opacity="1" transform="translate(777.2222222222222,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 27</text></g><g class="tick" opacity="1" transform="translate(952.6111111111111,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 03</text></g><g class="tick" opacity="1" transform="translate(1128,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 10</text></g><g class="tick" opacity="1" transform="translate(1303.388888888889,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 17</text></g></g><rect class="listening-rect" width="1353" height="345"></rect><circle class="tooltip-circle" r="4" stroke="#af9358" fill="white" stroke-width="2" style="opacity: 0;" cx="1327.9444444444446" cy="0"></circle></g></svg>

If I wanted to only show the lifeline of the track itself, there would be no issue. Dates without a top 20 ranking would be reduced from the array. However, I want to show the lifeline of the track throughout the album's top 20 date range. Dates with no value end up creating this weird extra line. My fix, for now, was to force a value outside of 0-20 on blank positions. I did this manually, so I'll have to learn how to handle this programmatically in the future.

Assigning a value of 30 to all of the dates with an empty position fixes the stray line issue and allows you to see how Paranoid performed throughout the time that beerbongs & bentleys was disrupting the top 20.

<svg width="1102.4" height="400" class="line-error" viewBox="0 0 1102 400"><g transform="translate(60, 15)"><defs><clipPath id="bounds-clip-path"><rect width="1027.4" height="345"></rect></clipPath></defs><g clip-path="url(#bounds-clip-path)"><path class="line" d="M0,517.5L19.025925925925925,34.5L38.05185185185185,69L57.07777777777778,86.25L76.1037037037037,69L95.12962962962963,69L114.15555555555557,120.74999999999999L133.18148148148148,120.74999999999999L152.2074074074074,120.74999999999999L171.23333333333335,189.75000000000003L190.25925925925927,189.75000000000003L209.28518518518518,207L228.31111111111113,207L247.33703703703705,224.25L266.36296296296297,224.25L285.3888888888889,241.49999999999997L304.4148148148148,258.75L323.4407407407408,276L342.4666666666667,258.75L361.49259259259264,276L380.51851851851853,327.75L399.5444444444445,345L418.57037037037037,517.5L437.5962962962963,517.5L456.62222222222226,517.5L475.6481481481482,517.5L494.6740740740741,517.5L513.7,517.5L532.7259259259259,517.5L551.7518518518519,517.5L570.7777777777778,517.5L589.8037037037037,517.5L608.8296296296296,517.5L627.8555555555556,517.5L646.8814814814816,517.5L665.9074074074075,517.5L684.9333333333334,517.5L703.9592592592594,517.5L722.9851851851853,517.5L742.0111111111112,517.5L761.0370370370371,517.5L780.0629629629631,517.5L799.088888888889,517.5L818.1148148148148,517.5L837.1407407407407,517.5L856.1666666666667,517.5L875.1925925925926,517.5L894.2185185185185,517.5L913.2444444444445,517.5L932.2703703703705,517.5L951.2962962962964,517.5L970.3222222222223,517.5L989.3481481481482,517.5L1008.3740740740742,517.5L1027.4,517.5"></path></g><g class="y-axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="end"><path class="domain" stroke="currentColor" d="M-6,345.5H0.5V0.5H-6"></path><g class="tick" opacity="1" transform="translate(0,345.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">20</text></g><g class="tick" opacity="1" transform="translate(0,311)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">18</text></g><g class="tick" opacity="1" transform="translate(0,276.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">16</text></g><g class="tick" opacity="1" transform="translate(0,241.99999999999997)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">14</text></g><g class="tick" opacity="1" transform="translate(0,207.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">12</text></g><g class="tick" opacity="1" transform="translate(0,173)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">10</text></g><g class="tick" opacity="1" transform="translate(0,138.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">8</text></g><g class="tick" opacity="1" transform="translate(0,104)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">6</text></g><g class="tick" opacity="1" transform="translate(0,69.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">4</text></g><g class="tick" opacity="1" transform="translate(0,35)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">2</text></g><g class="tick" opacity="1" transform="translate(0,0.5)"><line stroke="currentColor" x2="-6"></line><text fill="currentColor" x="-9" dy="0.32em">0</text></g><text class="y-axis-label" x="-172.5" y="-50">Rank</text></g><g class="x-axis" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle" style="transform: translateY(345px);"><path class="domain" stroke="currentColor" d="M0.5,6V0.5H1027.9V6"></path><g class="tick" opacity="1" transform="translate(57.57777777777778,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Apr 29</text></g><g class="tick" opacity="1" transform="translate(190.75925925925927,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 06</text></g><g class="tick" opacity="1" transform="translate(323.9407407407408,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 13</text></g><g class="tick" opacity="1" transform="translate(457.12222222222226,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 20</text></g><g class="tick" opacity="1" transform="translate(590.3037037037037,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">May 27</text></g><g class="tick" opacity="1" transform="translate(723.4851851851853,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 03</text></g><g class="tick" opacity="1" transform="translate(856.6666666666667,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 10</text></g><g class="tick" opacity="1" transform="translate(989.8481481481482,0)"><line stroke="currentColor" y2="6"></line><text fill="currentColor" y="9" dy="0.71em">Jun 17</text></g></g><rect class="listening-rect" width="1027.4" height="345"></rect><circle class="tooltip-circle" r="4" stroke="#af9358" fill="white" stroke-width="2" style="opacity: 0;" cx="1027.4" cy="517.5"></circle></g></svg>

<p class="u-ta-c"><a href="https://codepen.io/dandenney/pen/WNvoVQa">Sample on CodePen</a></p>

It opened and peaked at No. 2, and its last day in the top 20 was May 17, 2018. That makes for a nice 20-day run in the Spotify Top 20, which is a funny coincidence for a geek like me.

#### Misdirection

I've been spewing text into this post for a while, showing all of the cool things that I've been able to build with d3, but there's a twist: there's no d3 on this page. I knew that this post was going to be heavy and it felt like drawing multiple graphs and including images and tons of text might not perform well. So, I tested copying an SVG out of the DOM in [CodePen](https://codepen.io/collection/nZazNj), where I've been building all of the examples. It worked as expected! So, all of the graphs above are just SVG code.

The most important part of that, though, is the trade-off. The power of d3 comes in the interactivity, which you lose with pure SVG. Yes, you can add animations back in, but the work that would be required to provide tooltip data would be extreme. So, only do this for pure charts that have no interactions. (And don't make too many of those.)

Just to be sure I'm not understating the value of having d3 on the page, I was able to chart out the performance of 13 individual tracks, using essentially the same code. This is all it took to repeat the line chart in the full viz. I'm assigning a an element `id` to target and the data. I could make that even more clean by looping over them, but honestly the code for the full vizualization is a dumpster fire.

Aside: I've learned that when applying something newly learned and designing in the browser, something has to be a trade-off. For me, that was code cleanliness in this project. This is not a humble brag, where you go peek at GitHub and I have a stray indent or something. It's a dumpster fire, but it's so much fun.

```javascript
drawLineChart("paranoid", paranoid.rankings);
drawLineChart("spoil-my-night", spoilMyNight.rankings);
drawLineChart("rich-and-sad", richAndSad.rankings);
drawLineChart("zack-and-codeine", zackAndCodeine.rankings);
drawLineChart("takin-shots", takinShots.rankings);
drawLineChart("rockstar", rockstar.rankings);
drawLineChart("over-now", overNow.rankings);
drawLineChart("psycho", psycho.rankings);
drawLineChart("better-now", betterNow.rankings);
drawLineChart("ball-for-me", ballForMe.rankings);
drawLineChart("otherside", otherside.rankings);
drawLineChart("stay", stay.rankings);
drawLineChart("same-bitches", sameBitches.rankings);
```

## Better Now

I learned a ton from the book and from creating the items that I needed to write this post. I've shared the basics of what I learned from [Amelia Wattenberger](https://wattenberger.com), in [Fullstack D3 and Data Visualization](https://www.newline.co/fullstack-d3), but the visualizations here have been monotone and lacking interactivity. The examples of the book are significantly better than what I've created here. This [CodePen collection](https://codepen.io/collection/DVzMwm) will show you most of what you will learn. I left off examples that were tricky to put into a pen.

I'm going to go a little cray in seeing how I can make something more "art" than science. While I hope that the end result delivers the information properly, it's going to be with some flare. As Post says...

> Candy paint with the white on top
> Lambo doors of the oo-op drop

Honestly, I don't even know what that means, but I like it. Check out the viz, [Disruptive Album: beerbongs and bentleys](/tinkerings/beerbongs-and-bentleys), if you're into that kind of thing.
