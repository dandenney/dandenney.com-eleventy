<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ renderData.title or title or metadata.title }}</title>
    <meta name="og:title" content="{{ renderData.title or title or metadata.title }}">
    <meta name="Description" content="{{ renderData.description or description or metadata.description or summary }}">
    <meta name="og:description" content="{{ renderData.description or description or metadata.description or summary }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
     <link rel="stylesheet" href="{{ '/css/tailwind.css' | url }}">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="icon" href="/favicon.ico" sizes="any"><!-- 32×32 -->
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png"><!-- 180×180 -->
    <link rel="manifest" href="/manifest.webmanifest">
    {% if canonical %}
      <link rel="canonical" href="{{ canonical }}" />
      <meta name="og:url" content="{{ canonical }}">
    {% endif %}
    {% if socialImageFilename %}
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:description" content="{{ renderData.description or description or metadata.description or summary }}">
      <meta name="twitter:image" content="https://www.dandenney.com/img/posts/social-share/{{socialImageFilename}}">
      <meta name="twitter:site" content="@dandenney">
      <meta name="twitter:title" content="{{ renderData.title or title or metadata.title }}">
      <meta property="og:image" content="https://www.dandenney.com/img/posts/social-share/{{socialImageFilename}}">
      <meta property="og:image:alt" content="Description of the social share image">
      <meta property="og:image:type" content="image/jpg">
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="628">
    {% endif %}
    {% if layout === 'layouts/post.njk' %}
      <meta name="og:type" content="article">
    {% endif %}
    <script>
      // On page load or when changing themes, best to add inline in `head` to avoid FOUC
      if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark')
      } else {
        document.documentElement.classList.remove('dark')
      }

      // Whenever the user explicitly chooses light mode
      localStorage.theme = 'light'

      // Whenever the user explicitly chooses dark mode
      localStorage.theme = 'dark'

      // Whenever the user explicitly chooses to respect the OS preference
      localStorage.removeItem('theme')
    </script>
  </head>
  <body class="bg-white dark:bg-slate-900">

    <main class="bg-white relative shadow  z-10 dark:bg-slate-900 dark:text-slate-200">
      {{ content | safe }}
    </main>

    {% include "footer.njk" %}

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-3589831-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-3589831-2');
    </script>

    <script>
      !function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.quicklink={})}(this,function(n){function e(n){return new Promise(function(e,t,o){(o=new XMLHttpRequest).open("GET",n,o.withCredentials=!0),o.onload=function(){200===o.status?e():t()},o.send()})}var t,o=(t=document.createElement("link")).relList&&t.relList.supports&&t.relList.supports("prefetch")?function(n){return new Promise(function(e,t,o){(o=document.createElement("link")).rel="prefetch",o.href=n,o.onload=e,o.onerror=t,document.head.appendChild(o)})}:e,i=window.requestIdleCallback||function(n){var e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},r=new Set;function c(n,t,i){if(!(i=navigator.connection)||!i.saveData&&!/2g/.test(i.effectiveType))return Promise.all([].concat(n).map(function(n){if(!r.has(n))return r.add(n),(t?function(n){return window.fetch?fetch(n,{credentials:"include"}):e(n)}:o)(new URL(n,location.href).toString())}))}n.listen=function(n){if(n||(n={}),window.IntersectionObserver){var e=function(n){n=n||1;var e=[],t=0;function o(){t<n&&e.length>0&&(e.shift()(),t++)}return[function(n){e.push(n)>1||o()},function(){t--,o()}]}(n.throttle||1/0),t=e[0],o=e[1],u=n.limit||1/0,f=n.origins||[location.hostname],s=n.ignores||[],a=n.timeoutFn||i,l=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&(l.unobserve(e=e.target),r.size<u&&t(function(){c(e.href,n.priority).then(o).catch(function(e){o(),n.onError&&n.onError(e)})}))})});return a(function(){(n.el||document).querySelectorAll("a").forEach(function(n){f.length&&!f.includes(n.hostname)||function n(e,t){return Array.isArray(t)?t.some(function(t){return n(e,t)}):(t.test||t).call(t,e.href,e)}(n,s)||l.observe(n)})},{timeout:n.timeout||2e3}),function(){r.clear(),l.disconnect()}}},n.prefetch=c});
    </script>
    <script>
      quicklink.listen();
    </script>

  </body>
</html>
